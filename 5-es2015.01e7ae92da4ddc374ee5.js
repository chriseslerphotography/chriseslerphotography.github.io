(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{o1NI:function(t,a,l){"use strict";l.r(a);var n=l("8Y7J");class e{}var r=l("pMnS"),i=l("igqZ"),o=l("IP0z"),s=l("Xd0L"),c=l("cUpR"),u=l("omvX"),d=n.sb({encapsulation:2,styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}@media (-ms-high-contrast:active){.mat-card{outline:solid 1px}}.mat-card-actions,.mat-card-content,.mat-card-subtitle{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media (max-width:599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],data:{}});function b(t){return n.Nb(2,[n.Eb(null,0),n.Eb(null,1)],null,null)}var m=n.sb({encapsulation:2,styles:[],data:{}});function p(t){return n.Nb(2,[n.Eb(null,0),(t()(),n.ub(1,0,null,null,1,"div",[["class","mat-card-header-text"]],null,null,null,null,null)),n.Eb(null,1),n.Eb(null,2)],null,null)}var g=l("SVse"),h=l("AytR");class f{constructor(t){this.sanitizer=t,this._hostClass=!0,this.msg=null,this.messageEvent=new n.n,this.urlCleaned=!1}get authorImage(){return this.urlCleaned||(this.urlCleaned=this.sanitizer.bypassSecurityTrustStyle(`url(${h.a.messageImageUrl+this.msg.author.photoUrl})`)),this.urlCleaned}ngOnInit(){}}var D=n.sb({encapsulation:0,styles:[[".message-item[_nghost-%COMP%]{display:flex;min-height:100px;padding:8px 16px}.message-item[_nghost-%COMP%]   .message-card[_ngcontent-%COMP%]{min-width:100%}"]],data:{}});function v(t){return n.Nb(0,[(t()(),n.ub(0,0,null,null,16,"mat-card",[["class","message-card mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,b,d)),n.tb(1,49152,null,0,i.a,[[2,u.a]],null,null),(t()(),n.ub(2,0,null,0,10,"mat-card-header",[["class","mat-card-header"]],null,null,null,p,m)),n.tb(3,49152,null,0,i.d,[],null,null),(t()(),n.ub(4,0,null,0,1,"div",[["class","mat-card-avatar"],["mat-card-avatar",""]],[[4,"background-image",null]],null,null,null,null)),n.tb(5,16384,null,0,i.b,[],null,null),(t()(),n.ub(6,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),n.tb(7,16384,null,0,i.g,[],null,null),(t()(),n.Lb(8,null,["",""])),(t()(),n.ub(9,0,null,1,3,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),n.tb(10,16384,null,0,i.f,[],null,null),(t()(),n.Lb(11,null,["",""])),n.Hb(12,2),(t()(),n.ub(13,0,null,0,3,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),n.tb(14,16384,null,0,i.c,[],null,null),(t()(),n.ub(15,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),n.Lb(16,null,[" "," "]))],null,(function(t,a){var l=a.component;t(a,0,0,"NoopAnimations"===n.Fb(a,1)._animationMode),t(a,4,0,l.authorImage),t(a,8,0,l.msg.author.name);var e=n.Mb(a,11,0,t(a,12,0,n.Fb(a.parent,0),l.msg.updated,"mediumDate"));t(a,11,0,e),t(a,16,0,l.msg.content)}))}function k(t){return n.Nb(0,[(t()(),n.ub(0,0,null,null,5,"mat-card",[["class","message-card mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,b,d)),n.tb(1,49152,null,0,i.a,[[2,u.a]],null,null),(t()(),n.ub(2,0,null,0,3,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),n.tb(3,16384,null,0,i.c,[],null,null),(t()(),n.ub(4,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),n.Lb(-1,null,[" LOADING ... "]))],null,(function(t,a){t(a,0,0,"NoopAnimations"===n.Fb(a,1)._animationMode)}))}function x(t){return n.Nb(0,[n.Gb(0,g.e,[n.u]),(t()(),n.jb(16777216,null,null,1,null,v)),n.tb(2,16384,null,0,g.l,[n.P,n.M],{ngIf:[0,"ngIf"]},null),(t()(),n.jb(16777216,null,null,1,null,k)),n.tb(4,16384,null,0,g.l,[n.P,n.M],{ngIf:[0,"ngIf"]},null)],(function(t,a){var l=a.component;t(a,2,0,l.msg),t(a,4,0,!l.msg)}),null)}var w=l("hOhj"),y=l("/HVE"),M=n.sb({encapsulation:2,styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:0}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:0}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}"],data:{}});function O(t){return n.Nb(2,[n.Jb(402653184,1,{_contentWrapper:0}),(t()(),n.ub(1,0,[[1,0],["contentWrapper",1]],null,1,"div",[["class","cdk-virtual-scroll-content-wrapper"]],null,null,null,null,null)),n.Eb(null,0),(t()(),n.ub(3,0,null,null,0,"div",[["class","cdk-virtual-scroll-spacer"]],[[4,"width",null],[4,"height",null]],null,null,null,null))],null,(function(t,a){var l=a.component;t(a,3,0,l._totalContentWidth,l._totalContentHeight)}))}var z=l("Dwe7"),j=l("mrSG"),C=l("e1JD"),_=l("lJxs"),F=l("JIr8");let P=(()=>{class t{constructor(t=25,a=!1){this.limit=t,this.pageToken=a}}return t.type="[Message State] Fetch Messagse",t})(),S=(()=>{class t{constructor(t){this.response=t}}return t.type="[Message State] Fetch Messages - SUCCESS",t})(),T=(()=>{class t{constructor(t,a="Generic Error"){this.error=t,this.label=a}}return t.type="[Message State] Error Happened",t})(),I=(()=>{let t=class{constructor(t){this.messages$=t}static getPageToken(t){return t.pageToken}static getLoading(t){return t.loading}static getError(t){return t.error}static getMessages(t){return t.messages}ms_error(t,{error:a,label:l}){console.error("STATE :: "+l,a),t.dispatch({error:a})}fetchMessage(t,{limit:a,pageToken:l}){return console.group("%c"+P.type,"padding: 4px; color: white; background: magenta; font-weight: bold;"),console.log({limit:a,pageToken:l}),console.groupEnd(),this.messages$.getMessages(a,l).pipe(Object(_.a)(a=>t.dispatch(new S(a))),Object(F.a)(a=>t.dispatch(new T(a,P.type))))}fetchMessage_success(t,{response:a}){if(console.group("%c"+S.type,"padding: 4px; color: white; background: green; font-weight: bold;"),console.log({response:a}),console.groupEnd(),a.messages.length>0){let l=[...t.getState().messages];l=l.concat(a.messages),t.patchState({messages:l,pageToken:a.pageToken})}}};return j.a([Object(C.a)(T)],t.prototype,"ms_error",null),j.a([Object(C.a)(P)],t.prototype,"fetchMessage",null),j.a([Object(C.a)(S)],t.prototype,"fetchMessage_success",null),j.a([Object(C.f)()],t,"getPageToken",null),j.a([Object(C.f)()],t,"getLoading",null),j.a([Object(C.f)()],t,"getError",null),j.a([Object(C.f)()],t,"getMessages",null),j.a([Object(C.g)({name:"Messages",defaults:{pageToken:null,loading:!1,error:{},messages:[]}})],t)})();var E=l("quSY"),N=l("8bJo"),V=l("2Vo4");let J=(()=>{class t extends N.b{constructor(t){super(),this.store=t,this.dataStream=new V.a(Array.from({length:0})),this.subscription=new E.a,this.limitSize=50,this.lastPage=0,this.pageToken=null,this.subscription.add(this.messages$.subscribe(t=>{this.dataStream.next(t)})),this.subscription.add(this.pageToken$.subscribe(t=>{this.pageToken=t})),this._fetchMessagesPage()}_fetchMessagesPage(){this.store.dispatch(new P(this.limitSize,this.pageToken))}_getPageForIndex(t){return Math.floor(t/this.limitSize)}connect(t){return this.subscription.add(t.viewChange.subscribe(t=>{const a=this._getPageForIndex(t.end);a>this.lastPage&&(this.lastPage=a,this._fetchMessagesPage())})),this.dataStream}disconnect(t){this.subscription.unsubscribe()}}return j.a([Object(C.e)(I.getMessages)],t.prototype,"messages$",void 0),j.a([Object(C.e)(I.getPageToken)],t.prototype,"pageToken$",void 0),t})(),$=(()=>{class t{constructor(t){this.store=t,this._hostClass=!0,this.error={},this.subscription=new E.a,this.messagesDataSource=new J(t)}ngOnInit(){this.subscription.add(this.error$.subscribe(t=>{this.error=t}))}ngOnDestroy(){this.subscription.unsubscribe()}}return j.a([Object(C.e)(I.getError)],t.prototype,"error$",void 0),t})();var q=n.sb({encapsulation:0,styles:[[".app-main[_nghost-%COMP%]{display:flex;flex:1}[_nghost-%COMP%]   .messages-scroller[_ngcontent-%COMP%]{flex:1;min-height:100%}"]],data:{}});function L(t){return n.Nb(0,[(t()(),n.ub(0,0,null,null,1,"message-item",[],[[2,"message-item",null]],null,null,x,D)),n.tb(1,114688,null,0,f,[c.b],{msg:[0,"msg"]},null)],(function(t,a){t(a,1,0,a.context.$implicit)}),(function(t,a){t(a,0,0,n.Fb(a,1)._hostClass)}))}function A(t){return n.Nb(0,[(t()(),n.ub(0,0,null,null,6,"cdk-virtual-scroll-viewport",[["autosize",""],["class","messages-scroller cdk-virtual-scroll-viewport"]],[[2,"cdk-virtual-scroll-orientation-horizontal",null],[2,"cdk-virtual-scroll-orientation-vertical",null]],null,null,O,M)),n.Ib(6144,null,w.a,null,[w.c]),n.tb(2,540672,null,0,z.a,[],null,null),n.Ib(1024,null,w.h,z.c,[z.a]),n.tb(4,245760,null,0,w.c,[n.l,n.i,n.z,[2,w.h],[2,o.b],w.e],null,null),(t()(),n.jb(16777216,null,0,1,null,L)),n.tb(6,409600,null,0,w.b,[n.P,n.M,n.s,[1,w.c],n.z],{cdkVirtualForOf:[0,"cdkVirtualForOf"]},null)],(function(t,a){var l=a.component;t(a,4,0),t(a,6,0,l.messagesDataSource)}),(function(t,a){t(a,0,0,"horizontal"===n.Fb(a,4).orientation,"horizontal"!==n.Fb(a,4).orientation)}))}function H(t){return n.Nb(0,[(t()(),n.ub(0,0,null,null,1,"app-main",[],[[2,"app-main",null]],null,null,A,q)),n.tb(1,245760,null,0,$,[C.i],null,null)],(function(t,a){t(a,1,0)}),(function(t,a){t(a,0,0,n.Fb(a,1)._hostClass)}))}var Z=n.qb("app-main",$,H,{},{},[]),B=l("t68o"),G=l("zbXB"),W=l("NcP4"),R=l("xYTU"),U=l("/q54"),Q=l("QQfA"),X=l("/Co4"),Y=l("POq0"),K=l("s6ns"),tt=l("821u"),at=l("gavF"),lt=l("JjoW"),nt=l("Mz6y"),et=l("OIZN"),rt=l("7kcP"),it=l("qJ5m"),ot=l("IheW"),st=l("z6cu");let ct=(()=>{class t{constructor(t){this.http$=t}handleError(t){return Object(st.a)("Something bad happened. Check your logs.")}getMessages(t=25,a=null){const l=h.a.messageApi+"messages",n={limit:t},e=new ot.g({"Content-Type":"application/json"});return null!==a&&(n.pageToken=a),this.http$.get(l,{headers:e,params:n,responseType:"json"}).pipe(Object(F.a)(this.handleError))}}return t.ngInjectableDef=n.Rb({factory:function(){return new t(n.Sb(ot.c))},token:t,providedIn:"root"}),t})();var ut=l("iInd");const dt={title:"main component title"};class bt{}var mt=l("VDRc"),pt=l("ura0"),gt=l("Nhcz"),ht=l("u9T3"),ft=l("zMNK"),Dt=l("Fwaw"),vt=l("mkRZ"),kt=l("r0V8"),xt=l("kNGD"),wt=l("zQui"),yt=l("8rEH"),Mt=l("5GAg"),Ot=l("02hT"),zt=l("5Bek"),jt=l("c9fC"),Ct=l("HsOI"),_t=l("FVPZ"),Ft=l("Gi4r"),Pt=l("oapL"),St=l("ZwOa"),Tt=l("Q+lL"),It=l("8P0U"),Et=l("W5yJ"),Nt=l("elxJ"),Vt=l("BV1i"),Jt=l("pBi1"),$t=l("lT8R"),qt=l("dFDH"),Lt=l("qJ50"),At=l("rWV4"),Ht=l("BzsH"),Zt=l("EZIC"),Bt=l("Mrqg"),Gt=l("dvZr");l.d(a,"MainModuleNgFactory",(function(){return Wt}));var Wt=n.rb(e,[],(function(t){return n.Cb([n.Db(512,n.k,n.cb,[[8,[r.a,Z,B.a,G.b,G.a,W.a,R.a,R.b]],[3,n.k],n.x]),n.Db(4608,g.n,g.m,[n.u,[2,g.C]]),n.Db(5120,n.b,(function(t,a){return[U.i(t,a)]}),[g.d,n.B]),n.Db(4608,Q.a,Q.a,[Q.g,Q.c,n.k,Q.f,Q.d,n.r,n.z,g.d,o.b,[2,g.h]]),n.Db(5120,Q.h,Q.i,[Q.a]),n.Db(5120,X.a,X.b,[Q.a]),n.Db(4608,Y.b,Y.b,[]),n.Db(4608,s.d,s.d,[]),n.Db(5120,K.b,K.c,[Q.a]),n.Db(135680,K.d,K.d,[Q.a,n.r,[2,g.h],[2,K.a],K.b,[3,K.d],Q.c]),n.Db(4608,tt.h,tt.h,[]),n.Db(5120,tt.a,tt.b,[Q.a]),n.Db(5120,at.a,at.d,[Q.a]),n.Db(5120,lt.a,lt.b,[Q.a]),n.Db(5120,nt.a,nt.b,[Q.a]),n.Db(4608,c.e,s.e,[[2,s.i],[2,s.l]]),n.Db(5120,et.b,et.a,[[3,et.b]]),n.Db(5120,rt.b,rt.a,[[3,rt.b]]),n.Db(5120,it.b,it.a,[[3,it.b]]),n.Db(4608,s.c,s.t,[[2,s.h],y.a]),n.Db(4608,C.x,C.x,[[3,C.x],[2,C.c]]),n.Db(4608,I,I,[ct]),n.Db(1073742336,g.c,g.c,[]),n.Db(1073742336,ut.m,ut.m,[[2,ut.r],[2,ut.l]]),n.Db(1073742336,bt,bt,[]),n.Db(1073742336,U.c,U.c,[]),n.Db(1073742336,o.a,o.a,[]),n.Db(1073742336,mt.a,mt.a,[]),n.Db(1073742336,pt.a,pt.a,[]),n.Db(1073742336,gt.a,gt.a,[]),n.Db(1073742336,ht.a,ht.a,[[2,U.f],n.B]),n.Db(1073742336,s.l,s.l,[[2,s.f],[2,c.f]]),n.Db(1073742336,y.b,y.b,[]),n.Db(1073742336,s.s,s.s,[]),n.Db(1073742336,s.q,s.q,[]),n.Db(1073742336,s.o,s.o,[]),n.Db(1073742336,ft.g,ft.g,[]),n.Db(1073742336,w.f,w.f,[]),n.Db(1073742336,Q.e,Q.e,[]),n.Db(1073742336,X.c,X.c,[]),n.Db(1073742336,Dt.c,Dt.c,[]),n.Db(1073742336,vt.a,vt.a,[]),n.Db(1073742336,i.e,i.e,[]),n.Db(1073742336,Y.c,Y.c,[]),n.Db(1073742336,kt.b,kt.b,[]),n.Db(1073742336,kt.a,kt.a,[]),n.Db(1073742336,xt.b,xt.b,[]),n.Db(1073742336,wt.o,wt.o,[]),n.Db(1073742336,yt.a,yt.a,[]),n.Db(1073742336,K.g,K.g,[]),n.Db(1073742336,Mt.a,Mt.a,[]),n.Db(1073742336,tt.i,tt.i,[]),n.Db(1073742336,Ot.a,Ot.a,[]),n.Db(1073742336,zt.c,zt.c,[]),n.Db(1073742336,jt.a,jt.a,[]),n.Db(1073742336,Ct.a,Ct.a,[]),n.Db(1073742336,s.m,s.m,[]),n.Db(1073742336,_t.a,_t.a,[]),n.Db(1073742336,Ft.a,Ft.a,[]),n.Db(1073742336,Pt.b,Pt.b,[]),n.Db(1073742336,St.a,St.a,[]),n.Db(1073742336,Tt.a,Tt.a,[]),n.Db(1073742336,at.c,at.c,[]),n.Db(1073742336,at.b,at.b,[]),n.Db(1073742336,lt.c,lt.c,[]),n.Db(1073742336,nt.c,nt.c,[]),n.Db(1073742336,et.c,et.c,[]),n.Db(1073742336,It.a,It.a,[]),n.Db(1073742336,Et.a,Et.a,[]),n.Db(1073742336,Nt.a,Nt.a,[]),n.Db(1073742336,Vt.a,Vt.a,[]),n.Db(1073742336,Jt.b,Jt.b,[]),n.Db(1073742336,Jt.a,Jt.a,[]),n.Db(1073742336,$t.a,$t.a,[]),n.Db(1073742336,qt.d,qt.d,[]),n.Db(1073742336,rt.c,rt.c,[]),n.Db(1073742336,Lt.e,Lt.e,[]),n.Db(1073742336,it.c,it.c,[]),n.Db(1073742336,At.a,At.a,[]),n.Db(1073742336,Ht.b,Ht.b,[]),n.Db(1073742336,s.u,s.u,[]),n.Db(1073742336,s.n,s.n,[]),n.Db(1073742336,z.b,z.b,[]),n.Db(1073742336,Zt.a,Zt.a,[]),n.Db(512,C.s,C.s,[n.r,C.p,[3,C.s],C.k,C.t,C.v,[2,Bt.a]]),n.Db(1024,C.m,(function(){return[[I]]}),[]),n.Db(1073742336,C.D,C.D,[C.i,C.w,C.s,[2,C.m],C.C]),n.Db(1073742336,e,e,[]),n.Db(1024,ut.j,(function(){return[[{path:"**",component:$,data:dt}]]}),[]),n.Db(256,xt.a,{separatorKeyCodes:[Gt.f]},[]),n.Db(256,s.g,s.j,[])])}))}}]);