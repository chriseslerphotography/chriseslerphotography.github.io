(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{o1NI:function(t,a,l){"use strict";l.r(a);var n=l("8Y7J");class e{}var r=l("pMnS"),i=l("igqZ"),o=l("IP0z"),s=l("Xd0L"),c=l("cUpR"),u=l("omvX"),d=n.sb({encapsulation:2,styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}@media (-ms-high-contrast:active){.mat-card{outline:solid 1px}}.mat-card-actions,.mat-card-content,.mat-card-subtitle{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media (max-width:599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],data:{}});function b(t){return n.Nb(2,[n.Eb(null,0),n.Eb(null,1)],null,null)}var m=n.sb({encapsulation:2,styles:[],data:{}});function p(t){return n.Nb(2,[n.Eb(null,0),(t()(),n.ub(1,0,null,null,1,"div",[["class","mat-card-header-text"]],null,null,null,null,null)),n.Eb(null,1),n.Eb(null,2)],null,null)}var g=l("SVse"),h=l("AytR");class f{constructor(t){this.sanitizer=t,this._hostClass=!0,this.msg=null,this.messageEvent=new n.n,this.urlCleaned=!1}get authorImage(){return this.urlCleaned||(this.urlCleaned=this.sanitizer.bypassSecurityTrustStyle(`url(${h.a.messageImageUrl+this.msg.author.photoUrl})`)),this.urlCleaned}ngOnInit(){}}var D=n.sb({encapsulation:0,styles:[[".message-item[_nghost-%COMP%]{display:flex;height:100px}"]],data:{}});function v(t){return n.Nb(0,[(t()(),n.ub(0,0,null,null,16,"mat-card",[["class","message-card mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,b,d)),n.tb(1,49152,null,0,i.a,[[2,u.a]],null,null),(t()(),n.ub(2,0,null,0,10,"mat-card-header",[["class","mat-card-header"]],null,null,null,p,m)),n.tb(3,49152,null,0,i.d,[],null,null),(t()(),n.ub(4,0,null,0,1,"div",[["class","mat-card-avatar"],["mat-card-avatar",""]],[[4,"background-image",null]],null,null,null,null)),n.tb(5,16384,null,0,i.b,[],null,null),(t()(),n.ub(6,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),n.tb(7,16384,null,0,i.g,[],null,null),(t()(),n.Lb(8,null,["",""])),(t()(),n.ub(9,0,null,1,3,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),n.tb(10,16384,null,0,i.f,[],null,null),(t()(),n.Lb(11,null,["",""])),n.Hb(12,2),(t()(),n.ub(13,0,null,0,3,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),n.tb(14,16384,null,0,i.c,[],null,null),(t()(),n.ub(15,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),n.Lb(16,null,[" "," "]))],null,(function(t,a){var l=a.component;t(a,0,0,"NoopAnimations"===n.Fb(a,1)._animationMode),t(a,4,0,l.authorImage),t(a,8,0,l.msg.author.name);var e=n.Mb(a,11,0,t(a,12,0,n.Fb(a.parent,0),l.msg.updated,"mediumDate"));t(a,11,0,e),t(a,16,0,l.msg.content)}))}function k(t){return n.Nb(0,[(t()(),n.ub(0,0,null,null,5,"mat-card",[["class","message-card mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,b,d)),n.tb(1,49152,null,0,i.a,[[2,u.a]],null,null),(t()(),n.ub(2,0,null,0,3,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),n.tb(3,16384,null,0,i.c,[],null,null),(t()(),n.ub(4,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),n.Lb(-1,null,[" LOADING ... "]))],null,(function(t,a){t(a,0,0,"NoopAnimations"===n.Fb(a,1)._animationMode)}))}function x(t){return n.Nb(0,[n.Gb(0,g.e,[n.u]),(t()(),n.jb(16777216,null,null,1,null,v)),n.tb(2,16384,null,0,g.l,[n.P,n.M],{ngIf:[0,"ngIf"]},null),(t()(),n.jb(16777216,null,null,1,null,k)),n.tb(4,16384,null,0,g.l,[n.P,n.M],{ngIf:[0,"ngIf"]},null)],(function(t,a){var l=a.component;t(a,2,0,l.msg),t(a,4,0,!l.msg)}),null)}var w=l("hOhj"),y=l("/HVE"),M=n.sb({encapsulation:2,styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:0}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:0}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}"],data:{}});function z(t){return n.Nb(2,[n.Jb(402653184,1,{_contentWrapper:0}),(t()(),n.ub(1,0,[[1,0],["contentWrapper",1]],null,1,"div",[["class","cdk-virtual-scroll-content-wrapper"]],null,null,null,null,null)),n.Eb(null,0),(t()(),n.ub(3,0,null,null,0,"div",[["class","cdk-virtual-scroll-spacer"]],[[4,"width",null],[4,"height",null]],null,null,null,null))],null,(function(t,a){var l=a.component;t(a,3,0,l._totalContentWidth,l._totalContentHeight)}))}var O=l("mrSG"),j=l("e1JD"),S=l("lJxs"),C=l("JIr8");let F=(()=>{class t{constructor(t=25,a=!1){this.limit=t,this.pageToken=a}}return t.type="[Message State] Fetch Messagse",t})(),T=(()=>{class t{constructor(t){this.response=t}}return t.type="[Message State] Fetch Messages - SUCCESS",t})(),_=(()=>{class t{constructor(t,a="Generic Error"){this.error=t,this.label=a}}return t.type="[Message State] Error Happened",t})(),I=(()=>{let t=class{constructor(t){this.messages$=t}static getPageToken(t){return t.pageToken}static getLoading(t){return t.loading}static getError(t){return t.error}static getMessages(t){return t.messages}ms_error(t,{error:a,label:l}){console.error("STATE :: "+l,a),t.dispatch({error:a})}fetchMessage(t,{limit:a,pageToken:l}){return console.group("%c"+F.type,"padding: 4px; color: white; background: magenta; font-weight: bold;"),console.log({limit:a,pageToken:l}),console.groupEnd(),this.messages$.getMessages(a,l).pipe(Object(S.a)(a=>t.dispatch(new T(a))),Object(C.a)(a=>t.dispatch(new _(a,F.type))))}fetchMessage_success(t,{response:a}){if(console.group("%c"+T.type,"padding: 4px; color: white; background: green; font-weight: bold;"),console.log({response:a}),console.groupEnd(),a.messages.length>0){let l=[...t.getState().messages];l=l.concat(a.messages),t.patchState({messages:l,pageToken:a.pageToken})}}};return O.a([Object(j.a)(_)],t.prototype,"ms_error",null),O.a([Object(j.a)(F)],t.prototype,"fetchMessage",null),O.a([Object(j.a)(T)],t.prototype,"fetchMessage_success",null),O.a([Object(j.f)()],t,"getPageToken",null),O.a([Object(j.f)()],t,"getLoading",null),O.a([Object(j.f)()],t,"getError",null),O.a([Object(j.f)()],t,"getMessages",null),O.a([Object(j.g)({name:"Messages",defaults:{pageToken:null,loading:!1,error:{},messages:[]}})],t)})();var P=l("quSY"),E=l("8bJo"),N=l("2Vo4");let V=(()=>{class t extends E.b{constructor(t){super(),this.store=t,this.dataStream=new N.a(Array.from({length:0})),this.subscription=new P.a,this.limitSize=50,this.lastPage=0,this.pageToken=null,this.subscription.add(this.messages$.subscribe(t=>{this.dataStream.next(t)})),this.subscription.add(this.pageToken$.subscribe(t=>{this.pageToken=t})),this._fetchMessagesPage()}_fetchMessagesPage(){this.store.dispatch(new F(this.limitSize,this.pageToken))}_getPageForIndex(t){return Math.floor(t/this.limitSize)}connect(t){return this.subscription.add(t.viewChange.subscribe(t=>{const a=this._getPageForIndex(t.end);a>this.lastPage&&(this.lastPage=a,this._fetchMessagesPage())})),this.dataStream}disconnect(t){this.subscription.unsubscribe()}}return O.a([Object(j.e)(I.getMessages)],t.prototype,"messages$",void 0),O.a([Object(j.e)(I.getPageToken)],t.prototype,"pageToken$",void 0),t})(),J=(()=>{class t{constructor(t){this.store=t,this._hostClass=!0,this.error={},this.subscription=new P.a,this.messagesDataSource=new V(t)}ngOnInit(){this.subscription.add(this.error$.subscribe(t=>{this.error=t}))}ngOnDestroy(){this.subscription.unsubscribe()}}return O.a([Object(j.e)(I.getError)],t.prototype,"error$",void 0),t})();var $=n.sb({encapsulation:0,styles:[[".app-main[_nghost-%COMP%]{display:flex;flex:1}[_nghost-%COMP%]   .messages-scroller[_ngcontent-%COMP%]{flex:1;min-height:100%}"]],data:{}});function q(t){return n.Nb(0,[(t()(),n.ub(0,0,null,null,1,"message-item",[],[[2,"message-item",null]],null,null,x,D)),n.tb(1,114688,null,0,f,[c.b],{msg:[0,"msg"]},null)],(function(t,a){t(a,1,0,a.context.$implicit)}),(function(t,a){t(a,0,0,n.Fb(a,1)._hostClass)}))}function L(t){return n.Nb(0,[(t()(),n.ub(0,0,null,null,6,"cdk-virtual-scroll-viewport",[["class","messages-scroller cdk-virtual-scroll-viewport"],["itemSize","100"]],[[2,"cdk-virtual-scroll-orientation-horizontal",null],[2,"cdk-virtual-scroll-orientation-vertical",null]],null,null,z,M)),n.Ib(6144,null,w.b,null,[w.d]),n.tb(2,540672,null,0,w.a,[],{itemSize:[0,"itemSize"]},null),n.Ib(1024,null,w.i,w.k,[w.a]),n.tb(4,245760,null,0,w.d,[n.l,n.i,n.z,[2,w.i],[2,o.b],w.f],null,null),(t()(),n.jb(16777216,null,0,1,null,q)),n.tb(6,409600,null,0,w.c,[n.P,n.M,n.s,[1,w.d],n.z],{cdkVirtualForOf:[0,"cdkVirtualForOf"]},null)],(function(t,a){var l=a.component;t(a,2,0,"100"),t(a,4,0),t(a,6,0,l.messagesDataSource)}),(function(t,a){t(a,0,0,"horizontal"===n.Fb(a,4).orientation,"horizontal"!==n.Fb(a,4).orientation)}))}function A(t){return n.Nb(0,[(t()(),n.ub(0,0,null,null,1,"app-main",[],[[2,"app-main",null]],null,null,L,$)),n.tb(1,245760,null,0,J,[j.i],null,null)],(function(t,a){t(a,1,0)}),(function(t,a){t(a,0,0,n.Fb(a,1)._hostClass)}))}var H=n.qb("app-main",J,A,{},{},[]),Z=l("t68o"),B=l("zbXB"),G=l("NcP4"),W=l("xYTU"),R=l("/q54"),U=l("QQfA"),Q=l("/Co4"),X=l("POq0"),Y=l("s6ns"),K=l("821u"),tt=l("gavF"),at=l("JjoW"),lt=l("Mz6y"),nt=l("OIZN"),et=l("7kcP"),rt=l("qJ5m"),it=l("IheW"),ot=l("z6cu");let st=(()=>{class t{constructor(t){this.http$=t}handleError(t){return Object(ot.a)("Something bad happened. Check your logs.")}getMessages(t=25,a=null){const l=h.a.messageApi+"messages",n={limit:t},e=new it.g({"Content-Type":"application/json"});return null!==a&&(n.pageToken=a),this.http$.get(l,{headers:e,params:n,responseType:"json"}).pipe(Object(C.a)(this.handleError))}}return t.ngInjectableDef=n.Rb({factory:function(){return new t(n.Sb(it.c))},token:t,providedIn:"root"}),t})();var ct=l("iInd");const ut={title:"main component title"};class dt{}var bt=l("VDRc"),mt=l("ura0"),pt=l("Nhcz"),gt=l("u9T3"),ht=l("zMNK"),ft=l("Fwaw"),Dt=l("mkRZ"),vt=l("r0V8"),kt=l("kNGD"),xt=l("zQui"),wt=l("8rEH"),yt=l("5GAg"),Mt=l("02hT"),zt=l("5Bek"),Ot=l("c9fC"),jt=l("HsOI"),St=l("FVPZ"),Ct=l("Gi4r"),Ft=l("oapL"),Tt=l("ZwOa"),_t=l("Q+lL"),It=l("8P0U"),Pt=l("W5yJ"),Et=l("elxJ"),Nt=l("BV1i"),Vt=l("pBi1"),Jt=l("lT8R"),$t=l("dFDH"),qt=l("qJ50"),Lt=l("rWV4"),At=l("BzsH"),Ht=l("EZIC"),Zt=l("Mrqg"),Bt=l("dvZr");l.d(a,"MainModuleNgFactory",(function(){return Gt}));var Gt=n.rb(e,[],(function(t){return n.Cb([n.Db(512,n.k,n.cb,[[8,[r.a,H,Z.a,B.b,B.a,G.a,W.a,W.b]],[3,n.k],n.x]),n.Db(4608,g.n,g.m,[n.u,[2,g.C]]),n.Db(5120,n.b,(function(t,a){return[R.i(t,a)]}),[g.d,n.B]),n.Db(4608,U.a,U.a,[U.g,U.c,n.k,U.f,U.d,n.r,n.z,g.d,o.b,[2,g.h]]),n.Db(5120,U.h,U.i,[U.a]),n.Db(5120,Q.a,Q.b,[U.a]),n.Db(4608,X.b,X.b,[]),n.Db(4608,s.d,s.d,[]),n.Db(5120,Y.b,Y.c,[U.a]),n.Db(135680,Y.d,Y.d,[U.a,n.r,[2,g.h],[2,Y.a],Y.b,[3,Y.d],U.c]),n.Db(4608,K.h,K.h,[]),n.Db(5120,K.a,K.b,[U.a]),n.Db(5120,tt.a,tt.d,[U.a]),n.Db(5120,at.a,at.b,[U.a]),n.Db(5120,lt.a,lt.b,[U.a]),n.Db(4608,c.e,s.e,[[2,s.i],[2,s.l]]),n.Db(5120,nt.b,nt.a,[[3,nt.b]]),n.Db(5120,et.b,et.a,[[3,et.b]]),n.Db(5120,rt.b,rt.a,[[3,rt.b]]),n.Db(4608,s.c,s.t,[[2,s.h],y.a]),n.Db(4608,j.x,j.x,[[3,j.x],[2,j.c]]),n.Db(4608,I,I,[st]),n.Db(1073742336,g.c,g.c,[]),n.Db(1073742336,ct.m,ct.m,[[2,ct.r],[2,ct.l]]),n.Db(1073742336,dt,dt,[]),n.Db(1073742336,R.c,R.c,[]),n.Db(1073742336,o.a,o.a,[]),n.Db(1073742336,bt.a,bt.a,[]),n.Db(1073742336,mt.a,mt.a,[]),n.Db(1073742336,pt.a,pt.a,[]),n.Db(1073742336,gt.a,gt.a,[[2,R.f],n.B]),n.Db(1073742336,s.l,s.l,[[2,s.f],[2,c.f]]),n.Db(1073742336,y.b,y.b,[]),n.Db(1073742336,s.s,s.s,[]),n.Db(1073742336,s.q,s.q,[]),n.Db(1073742336,s.o,s.o,[]),n.Db(1073742336,ht.g,ht.g,[]),n.Db(1073742336,w.g,w.g,[]),n.Db(1073742336,U.e,U.e,[]),n.Db(1073742336,Q.c,Q.c,[]),n.Db(1073742336,ft.c,ft.c,[]),n.Db(1073742336,Dt.a,Dt.a,[]),n.Db(1073742336,i.e,i.e,[]),n.Db(1073742336,X.c,X.c,[]),n.Db(1073742336,vt.b,vt.b,[]),n.Db(1073742336,vt.a,vt.a,[]),n.Db(1073742336,kt.b,kt.b,[]),n.Db(1073742336,xt.o,xt.o,[]),n.Db(1073742336,wt.a,wt.a,[]),n.Db(1073742336,Y.g,Y.g,[]),n.Db(1073742336,yt.a,yt.a,[]),n.Db(1073742336,K.i,K.i,[]),n.Db(1073742336,Mt.a,Mt.a,[]),n.Db(1073742336,zt.c,zt.c,[]),n.Db(1073742336,Ot.a,Ot.a,[]),n.Db(1073742336,jt.a,jt.a,[]),n.Db(1073742336,s.m,s.m,[]),n.Db(1073742336,St.a,St.a,[]),n.Db(1073742336,Ct.a,Ct.a,[]),n.Db(1073742336,Ft.b,Ft.b,[]),n.Db(1073742336,Tt.a,Tt.a,[]),n.Db(1073742336,_t.a,_t.a,[]),n.Db(1073742336,tt.c,tt.c,[]),n.Db(1073742336,tt.b,tt.b,[]),n.Db(1073742336,at.c,at.c,[]),n.Db(1073742336,lt.c,lt.c,[]),n.Db(1073742336,nt.c,nt.c,[]),n.Db(1073742336,It.a,It.a,[]),n.Db(1073742336,Pt.a,Pt.a,[]),n.Db(1073742336,Et.a,Et.a,[]),n.Db(1073742336,Nt.a,Nt.a,[]),n.Db(1073742336,Vt.b,Vt.b,[]),n.Db(1073742336,Vt.a,Vt.a,[]),n.Db(1073742336,Jt.a,Jt.a,[]),n.Db(1073742336,$t.d,$t.d,[]),n.Db(1073742336,et.c,et.c,[]),n.Db(1073742336,qt.e,qt.e,[]),n.Db(1073742336,rt.c,rt.c,[]),n.Db(1073742336,Lt.a,Lt.a,[]),n.Db(1073742336,At.b,At.b,[]),n.Db(1073742336,s.u,s.u,[]),n.Db(1073742336,s.n,s.n,[]),n.Db(1073742336,Ht.a,Ht.a,[]),n.Db(512,j.s,j.s,[n.r,j.p,[3,j.s],j.k,j.t,j.v,[2,Zt.a]]),n.Db(1024,j.m,(function(){return[[I]]}),[]),n.Db(1073742336,j.D,j.D,[j.i,j.w,j.s,[2,j.m],j.C]),n.Db(1073742336,e,e,[]),n.Db(1024,ct.j,(function(){return[[{path:"**",component:J,data:ut}]]}),[]),n.Db(256,kt.a,{separatorKeyCodes:[Bt.f]},[]),n.Db(256,s.g,s.j,[])])}))}}]);